---
title: PR-500MIでDNSサーバーをIPv4で指定する
date: 2020-10-20 18:38:35
---

内向きにDNSを立てたのでPR-500MIにIPv4で設定しようと試みた話．

<!--more-->

## 事象

いざ登録しようとアドレスを 詳細設定 > DNS設定 > エントリ編集画面 に入力すると，

> プライマリDNSサーバアドレス
> 不正なIPアドレスです。

と怒られてしまう．どうやらIPv6しか受け付けてくれないらしい．

Google 検索すると知恵袋で別ルータにすると良いよと [提言](https://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q10140624975) が見つかるが，その必要はない．



## 解決

IPv4射影アドレスを使えば登録できる．

IPv6 では`::ffff:192.168.0.1` と表す事でIPv4しかサポートしていないノードとも通信できるようになる．

が，このまま入力してもエラーが出てしまう．

Chrome 等に `http://[::ffff:192.168.0.1]` のように打ち込むと `http://[::ffff:c0a8:1]/` のように変換してくれる．これをDNSサーバアドレスに指定してあげるとIPv4でも設定できた．

![設定画面](/images/pr500mi-dns-server-ipv4/2020-10-20-215232.jpg)

![IPv4で表示される](/images/pr500mi-dns-server-ipv4/2020-10-20-215400.jpg)

ほかのフレッツのルーターでもそうなのかな

## 参考

[いまさら聞けない、IPv6アドレス体系の基礎 (2/2)：これから始めるIPv6](https://www.atmarkit.co.jp/ait/articles/1107/19/news122_2.html) 